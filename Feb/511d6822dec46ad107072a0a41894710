Egypt's former president Hosni Mubarak, who ruled for three decades before he was ousted amid the Arab Spring protests in 2011, died Tuesday at age 91. The once burly autocrat with the trademark sunglasses, who became frail after multiple surgeries towards the end of his life, spent years in custody for his role in the deaths of protesters, but was freed in 2017 after the convictions were overturned. His son Alaa Mubarak wrote on Twitter: "This morning my father, president Mubarak, passed away". His death was confirmed by the presidency and on state television. Mubarak's brother-in-law, General Mounir Thabet, told AFP that the family was by Mubarak's side at the hospital. A military funeral was planned for Wednesday, to be followed by three days of mourning, said the office of President Abdel Fattah al-Sisi. On Tuesday, at the cemetery in eastern Cairo where Mubarak will be buried, AFP reporters saw several military vehicles parked next to the family grave and plainclothes policemen patrolling the area. Mubarak had long battled illness and was recently admitted to a Cairo military hospital's intensive care unit, as media speculated on whether he suffered cancer, heart troubles or respiratory ailments. Tributes poured in from leaders in the Middle East, where Mubarak's Egypt, a key ally of the United States, had at times served as a mediator, especially in the Israeli-Palestinian conflict. Israeli Prime Minister Benjamin Netanyahu praised Mubarak's commitment to "peace and security" when he ruled Egypt, the first Arab state to make peace with Israel and establish full diplomatic relations. Palestinian president Mahmud Abbas said he mourned Mubarak's death "with great sorrow" and hailed his support of the Palestinian cause. - Dodged bullets - President Sisi's office offered condolences and lauded Mubarak as one of the "heroes of the October 1973 war against Israel". The long-time president started off as a military pilot and was commander of the air force in the 1973 war with Israel. He became vice president in 1975 before taking power in 1981, following the assassination of former president Anwar al-Sadat by Islamist militants. Mubarak was sitting near Sadat, but survived, going on to dodge bullets during several more attempts on his life, including one by Islamist militants in 1995 in the Ethiopian capital Addis Ababa. He remained head of state for three decades, but was overthrown in 2011 after three weeks of mass protests that started on January 25. His ouster came amid mounting popular anger triggered partly by rampant police brutality and by 2010 parliamentary elections which were widely slammed as rigged. Some reactions to his death online, in particular from staunch anti-Mubarak activists, recalled the anger with his rule that stoked the uprising. "He lived as a criminal and a tyrant and died a criminal and a thief," tweeted Rasha Azab, a prominent leftist writer who was at the forefront of the revolution. Mubarak faced multiple charges after his overthrow, including over the deaths of protesters in 2011 and for corruption. But in the years since, many Egyptians' aversion to Mubarak has gradually given way to indifference mixed with nostalgia, and many now remember his rule as a bygone period of stability. - 'History will decide' - Mubarak, a determined foe of Islamist radicalism, maintained a state of emergency for the entirety of his rule that gave sweeping powers to the country's feared security services. Internationally, he garnered respect as a regional power broker. Abu Dhabi Crown Prince Mohammed bin Zayed Al-Nahyan described Mubarak as "an Arab leader who worked loyally for Arab unity and stability and stood firmly against extremism and terrorism". The former head of the International Atomic Energy Agency, Mohamed El-Baradei, who was a key opposition figure in Mubarak's waning years, paid his respects. "May God have mercy on the former president... and grant his family patience and comfort," he said on Twitter. Other opposition activists who played a critical role in the 2011 revolution, such as Wael Ghoneim, were also forgiving in their words on social media. "He was loyal and loving of Egypt... He took on a great responsibility towards the Egyptian people," Ghoneim wrote on Twitter. "He was right a lot of the time and also wrong a lot of the time... history will decide." Former presidential candidate Ayman Nour -- who ran against Mubarak in multi-candidate elections widely seen as fraudulent in 2005, lost and was subsequently jailed -- was also conciliatory in his tone. "I promise to God I personally forgive him," he said.