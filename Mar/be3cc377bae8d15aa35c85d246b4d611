Afghanistan's weakened government protested on Sunday a key component of a deal between the US and the Taliban, setting the scene for fractious talks when Kabul and the insurgents meet to strike a separate agreement. President Ashraf Ghani, who faces a political crisis following claims of fraud in his recent re-election, said he would not commit to a clause in the US-Taliban deal that calls for a massive prisoner exchange, something the militants have been demanding for years. The swap is one part of the accord, fleshed out over more than a year of talks between the US and the Taliban, that was signed Saturday in Doha and lays out a 14-month withdrawal timetable for all foreign forces -- provided the militants fulfil various pledges and open talks with Kabul. Ghani committed to continue honouring a partial truce that has seen violence plummet in Afghanistan, but he resisted the requirement for the Taliban to release up to 1,000 prisoners and for the Afghan government to free around 5,000 insurgent captives by March 10, when talks are supposed to start. The agreement says the "United States commits to completing this goal" of releasing the Taliban prisoners, but it is unclear how that would happen if Kabul is not on board. "There is no commitment to releasing 5,000 prisoners," Ghani told a rare press conference, noting that any release is "not in the authority of the US, it is in the authority of the Afghan government". "It could be included in the agenda of the intra-Afghan talks, but cannot be a prerequisite for talks," he said. - 'Biggest challenge' - While supporters of Saturday's accord say it marks a critical first step toward peace, many Afghans fear it amounts to little more than a US capitulation that will ultimately see the Taliban return to power. "This is about surrender and a political desire to come home, and has nothing to do with peace or security," Michael Rubin, a resident scholar at the American Enterprise Institute think tank, told AFP. The extent to which the Taliban return hinges on the coming "intra-Afghan" dialogue between the Taliban, the Ghani administration, and other Afghan political players. But critics say Ghani has prioritised his re-election over making a deal with the Taliban, and has struggled to finalise who will negotiate with the Islamic militants. "The biggest challenge right now is the lack of preparedness of the Afghan government to negotiate, even though they knew for several years... that this was going to happen and that these would be the parameters of the deal," Vanda Felbab-Brown, a senior fellow at the Brookings Institution, told AFP. "It would be an extremely lucky situation if in 14 months there was a deal signed with the Taliban," she added. After Ghani's re-election was confirmed last month, his bitter rival Abdullah Abdullah immediately rejected the result and vowed to set up a rival administration. Washington has pointedly not congratulated Ghani, but the Afghan president tweeted that Trump called him Sunday and "expressed his confidence in the Afghan government's leadership and state capacity to lead the next steps in process". Political deal-making is notoriously difficult in Afghanistan, a country riven by tribal and ethnic rivalries, and where squabbling leaders and warlords struggle to find common ground on important issues. The Taliban had, until now, refused to negotiate with Ghani's government -- which they considered a US puppet regime. - 'Clear message' to jihadists - The agreement says all foreign troops will leave if the Taliban stop jihadist groups such as Al-Qaeda and Islamic State from using the country as a base to plot attacks against Washington and its allies. But even that requirement is loosely-worded, with the deal stating only that the Taliban must send a "clear message" that those threatening the West "have no place in Afghanistan". Laurel Miller, director of the Crisis Group's Asia Program, called the accord the "first concrete milestone in an Afghan peace process". "Whether it actually sticks and whether it produces actual peace in Afghanistan remains to be seen," she said. Speaking on US network CBS, US Secretary of State Mike Pompeo said "no one is under any false illusion that this won't be a difficult conversation." "It's going to be rocky and bumpy," he said. Iran's foreign ministry said its foe Washington had "no legal right" to sign a peace agreement. In the week before Saturday's deal signing, a partial truce dubbed a "reduction in violence" saw jubilant Afghans dancing in the street as hopes rose that the 18-year-old war might finally come to an end. Despite lingering uncertainty about what the future holds for Afghanistan, residents said they were relieved to walk the streets without fear of Taliban attacks. "My children and I went out for ice cream almost every day (last week)," a pleasure that would have been "impossible" even weeks ago, Herat-based university professor Khalil Rasuli said. In Jalalabad, capital of the eastern province of Nangarhar, more than a dozen Taliban fighters handed weapons over to the authorities in a ceremony. "We came here to join the government peace and reconciliation process," Taliban fighter Atiqullah Jan told reporters. "We are happy the security forces accepted us. I call on others to (join the process)."