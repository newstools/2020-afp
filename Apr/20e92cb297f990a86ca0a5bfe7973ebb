Brazilian President Jair Bolsonaro withdrew his controversial nomination of a family friend for federal police chief Wednesday after a Supreme Court judge stayed the appointment over allegations the far-right leader wanted to block sensitive investigations. However, an irate Bolsonaro vowed to appeal the judge's ruling, overriding an earlier decision by his own attorney general's office. The row blew up last week when Bolsonaro fired the previous head of the federal police, Mauricio Valeixo, a decision that led popular justice minister Sergio Moro to resign in protest. In a scathing last press conference, Moro, an ex-judge who famously presided over Brazil's biggest-ever corruption probe, accused Bolsonaro of "political interference" in the police's work. The controversy only grew when Bolsonaro picked a long-time family friend, Alexandre Ramagem, as the new police chief. The federal police are reportedly investigating multiple cases involving Bolsonaro's inner circle, including allegations his son Carlos, a Rio de Janeiro city councilor, oversaw a fake-news campaign to benefit his father. Supreme Court Justice Alexandre de Moraes temporarily blocked Ramagem's appointment Wednesday, hours before he was to be sworn in. There is plausible evidence that Bolsonaro "failed to observe the constitutional principles of impartiality, morality and public interest" in making the appointment, De Moraes wrote in his ruling. Bolsonaro then withdrew the appointment, announcing in the official diary that Ramagem would stay in his current post as head of the Brazilian Intelligence Agency for now. But he made clear he was only backing down temporarily. After the attorney general's office said it would not appeal the court injunction, Bolsonaro fired back: "I'm the one in charge around here, and I want Ramagem. It's their duty to appeal. I'll do whatever it takes to put Ramagem in there." Bolsonaro defended his pick for federal police chief Sunday with a defiant "So what?" He sarcastically asked if Ramagem should be "banned" just because he is a family friend. "Whose friend am I supposed to pick?" he said. Bolsonaro is facing an investigation ordered by another Supreme Court judge following Moro's accusations, to establish whether he committed crimes including obstruction of justice.