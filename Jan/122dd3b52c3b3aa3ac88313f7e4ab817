Diplomatic efforts to end the conflict in Libya ratcheted up on Tuesday as Russia claimed the warring factions had agreed to maintain a fragile ceasefire and Germany called an international summit on the crisis. Libyan strongman Khalifa Haftar left talks in Moscow on Tuesday without signing a permanent truce aimed at ending nine months of fighting, though Russia claimed he agreed to maintain the current ceasefire. Ramping up the pressure, Berlin announced it had invited both parties of the Libyan conflict to talks with 11 countries and several international organisations on Sunday. Haftar and his allies were in Moscow on Monday for discussions with the United Nations-recognised government headed by Fayez al-Sarraj that is based in Tripoli. The meetings raised hopes of an end to the latest fighting to wrack Libya since a 2011 NATO-backed uprising killed dictator Moamer Kadhafi. But Haftar's abrupt departure from Moscow marked a setback. Playing down the blow, Russia's defence ministry said Haftar had asked for two days to consider the deal, stressing that a shaky ceasefire established at the weekend would continue. Russia's Foreign Minister Sergei Lavrov also promised to "pursue efforts" to mediate. But another key international player in the crisis, Turkish President Recep Tayyip Erdogan, angrily warned that "we will not hesitate to teach the putschist Haftar a deserved lesson... if he continues his attacks on Libya's legitimate administration and our brothers in Libya". "The putschist Haftar did not sign the ceasefire. He first said yes, but later unfortunately he left Moscow, he fled Moscow," Erdogan said, while praising "positive" talks. - Berlin summit - Anxious to calm flaring tempers, Berlin called a UN-sponsored summit of 11 countries  -- including the USA, Russia, China and Turkey. It remained unclear whether Haftar and Sarraj would attend, though Berlin said both had been invited. German Foreign Minister Heiko Maas said parties at the so-called Berlin Process will be asked to consider an accord to ensure "both civil war parties will in the medium- and long-term no longer be in a position to militarily keep this conflict going". To achieve this, the German mediator hopes parties at the conference will agree to refrain on providing military backing to Libya -- something that would lead to an arms embargo and subsequently a permanent ceasefire. A source close to the discussions also said a key aim will be to help Libya "sort out its problems without foreign influence". Western powers are keen to stabilise Libya -- home to Africa's largest proven crude reserves -- following years of turbulence since the 2011 killing of Kadhafi. Sarraj's government has been under attack since April from forces loyal to Haftar, who is based in the east of the oil-rich North African country with his own loyalist politicians. Since the start of the offensive against Tripoli, more than 280 civilians and 2,000 fighters have been killed and 146,000 Libyans displaced, according to the United Nations. The clashes have also spurred a growing exodus of migrants from Libya, though nearly 1,000 intercepted at sea have been forced to return this year, according to the UN. Putin and Erdogan made a joint call for a ceasefire, which started early Sunday and was welcomed by the UN. Putin later Monday discussed the talks with German Chancellor Angela Merkel. Turkey and Russia's diplomatic initiative came despite the countries being seen as supporting opposing sides. Ankara dispatched troops -- in a training capacity, it said -- to support the GNA in January in a move criticised by European powers and US President Donald Trump. The GNA has signed agreements with Ankara assigning Turkey rights over a vast area of the gas-rich eastern Mediterranean, in a deal denounced by France, Greece, Egypt and Cyprus. Russia has been accused of backing pro-Haftar forces, which are also supported by the United Arab Emirates, Saudi Arabia and Egypt -- all regional rivals of Turkey. Several hundred Russian mercenaries are reportedly in Libya, but Putin stressed they are not in Moscow's pay.