Airbnb and New York City officials announced an agreement Friday settling a long-running dispute over a municipal requirement that the home-sharing platform  disclose data on hosts. The listings data from home-sharing services enables officials to crack down on illegal short-term rentals. Under the deal, Airbnb will provide the city with information on listings that generate five or more nights of bookings per quarter, so long as the listing offers an entire home or allows three or more guests to stay at one time. The agreement exempts private or shared room listings with two or fewer guests, and some other bookings. Mayor Bill de Blasio said the deal allows the city to crack down on "illegal hotel operators who flout the law at the expense of working New Yorkers." City officials said the law was aimed at illicit short-term rentals by real estate speculators, which reduce housing available to residents and drive up rents. Christian Klossner, head of the Mayor's Office of Special Enforcement, said the deal gives the city "a powerful tool to detect those who hide behind fake accounts and address those who take housing away from New Yorkers." Airbnb faces similar legal disputes in other cities including Paris, Berlin and Barcelona. The company in 2018 sued the city of New York, claiming the ordinance was unconstitutional and "an extraordinary act of government overreach," winning a court order that blocked the law. New York in 2016 tightened rules applying to home-sharing services, slapping steep fines on those who let out unoccupied apartments for fewer than 30 days -- which is generally against the law. As part of the agreement, Airbnb agreed to drop its legal action. Christopher Lehane, head of public policy and communications for Airbnb, said the company had been seeking "an effective regulatory framework" to enable the sharing of certain information. "As we look toward the recovery of New York's tourism economy, we hope this settlement will represent a continuing relationship and the first step on a path forward for our community citywide," Lehane said. Airbnb agreed to hand over on a quarterly basis information on the address and host information of the affected listings, as well as other data that can help determine if the listings comply with local laws.